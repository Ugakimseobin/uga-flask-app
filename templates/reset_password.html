{% extends "base.html" %}

{% block title %}비밀번호 재설정{% endblock %}

{% block content %}
<div class="signup_main">
    <div class="container">
        <h2>비밀번호 재설정</h2>
        <form method="POST" id="resetForm" class="form-group">
            <label for="email">가입된 이메일*</label>
            <input type="email" id="email" name="email" placeholder="가입된 이메일을 입력하세요" required>

            <button type="submit" id="sendBtn">메일 전송</button>
            <div id="loading" style="display:none; margin-top:10px; color:#0077cc; font-weight:bold;">
                ⏳ 메일을 전송 중입니다...
            </div>
        </form>

        <!-- flash 메시지 -->
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            {% for category, message in messages %}
              <div class="flash {{ category }}">{{ message }}</div>
            {% endfor %}
          {% endif %}
        {% endwith %}
    </div>
</div>
<script>
document.getElementById("resetForm").addEventListener("submit", function() {
    const btn = document.getElementById("sendBtn");
    const loading = document.getElementById("loading");

    btn.disabled = true;   // 중복 클릭 방지
    btn.innerText = "전송 중...";  
    loading.style.display = "block";
});
</script>
{% endblock %}
