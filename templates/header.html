<header id="header">
    <div class="container">
        <div class="header-menu">
            <div class="logo">
                <a href="/"><img src="{{ url_for('static', filename='images/Uga_logo.png') }}"></a>
            </div>

            <!-- í–„ë²„ê±° ë©”ë‰´ -->
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>

            <!-- ë©”ë‰´ -->
            <ul class="menu">
                <!-- Product ë©”ë‰´ -->
                <li class="dropdown">
                    <a href="javascript:void(0)" class="dropdown-toggle">Product</a>
                    <ul class="dropdown-menu">
                        <li class="category">
                            <a href="javascript:void(0)">Category 1</a>
                            <div class="dropdown-sub-menu">
                                <a href="/product">sub menu</a>
                                <a href="/product">sub menu2</a>
                                <a href="/product">sub menu3</a>
                            </div>
                        </li>
                        <li class="category">
                            <a href="javascript:void(0)">Category 2</a>
                            <div class="dropdown-sub-menu">
                                <a href="/product">sub menu</a>
                                <a href="/product">sub menu2</a>
                            </div>
                        </li>
                        <li class="category">
                            <a href="javascript:void(0)">Category 3</a>
                            <div class="dropdown-sub-menu">
                                <a href="/product">sub menu</a>
                                <a href="/product">sub menu2</a>
                            </div>
                        </li>
                    </ul>
                </li>

                <li class="dropdown">
                    <a href="javascript:void(0)" class="dropdown-toggle">Company</a>
                    <ul class="dropdown-menu">
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Careers</a></li>
                    </ul>
                </li>

                <li><a href="#">Contact</a></li>
                <li><a href="#">DashBoard</a></li>

                <!-- ë¡œê·¸ì¸ ìƒíƒœ -->
                {% if session.user_name %}
                <li class="user-dropdown">
                    <a href="javascript:void(0)" id="userMenuToggle">
                        {{ session['user_name'] }}{% if session.get('user_title') %} ({{ session['user_title'] }}){% endif %}
                    </a>
                    <ul class="user-dropdown-menu" id="userDropdownMenu">
                        <div class="aff_name">
                            <p>ì†Œì† {% if session.get('user_aff') %}{{ session['user_aff'] }}{% endif %}</p>
                            <p>ì„±ëª… {{ session['user_name'] }}{% if session.get('user_title') %} ë‹˜ | ì§í•¨ {{ session['user_title'] }}{% endif %}</p>
                        </div>
                        <li><a href="{{ url_for('my_page') }}">ë§ˆì´í˜ì´ì§€</a></li>
                        <li><a href="{{ url_for('logout') }}">ë¡œê·¸ì•„ì›ƒ</a></li>
                    </ul>
                </li>
                {% else %}
                <li><a class="login_btn" onclick="openLoginModal()">Login</a></li>
                {% endif %}
            </ul>

            <div class="header-cart">
                <button id="cartBtn">
                    <span id="cart-icon">ğŸ›’</span>
                    <span id="cart-count" class="cart-bubble">0</span>
                </button>
                <div id="cartDropdown" class="cart-dropdown" style="display:none;">
                    <ul id="cart-items-list"></ul>
                    <div class="cart-total">ì´í•©: <span id="cart-total">0</span>ì›</div>
                    <button type="button" id="checkout-btn">êµ¬ë§¤í•˜ê¸°</button>
                </div>
            </div>
            <div id="moreMenu" class="more-menu" onclick="openMoreMenu()">...</div>
        </div>
    </div>

    <!-- ë¡œê·¸ì¸ íŒì—… -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeLoginModal()">&times;</span>
            <h2>Login</h2>
            <form id="loginForm"> <!-- id ì¶”ê°€, action ì œê±° -->
                <input type="text" name="usermail" placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" required>
                <input type="password" name="password" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”" required>
                <button type="submit">Login</button>
                <p id="loginError" style="color: red; display: none; margin-top: 8px;"></p>
            </form>
            <p>
                <a href="/sign_up_terms" class="link-btn">Sign Up</a> | 
                <a href="/reset_password" class="link-btn">Forgot Password?</a>
            </p>
        </div>
    </div>
</header>
